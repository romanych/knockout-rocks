<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title></title>
    <script type="text/javascript" src="knockout-latest.js"></script>
    <script type="text/javascript" src="jquery-1.5.2.min.js"></script>

</head>
<body>
<div>
    <h1>Knockout</h1>

    <div style="margin: 10px;">
        <svg style=" background: #eee; height: 210px; width: 210px; float: left; margin-right: 20px;">
            <circle
                    cx="105"
                    cy="105"
                    stroke="red"
                    stroke-width="3"
                    stroke-style="dashed"
                    fill="transparent"
                    data-bind="
                    attr: {
                        r: radius,
                        stroke: color,

                        },
                        style: {
                        'stroke-dasharray': strokeDashArray
                        },
                        click: randomizeColor
                    "
                    />
        </svg>
        <div>
            Radius:
            <input type="range" min="10" max="100" step="1" data-bind="value: radius"/><br/>
            Color:
            <input type="text" data-bind="colorPicker: color"/><br/>
            <br/>
            Radius: <label data-bind="text: radius() + 'px'"></label>
            <br/>
            <label>
                <input type="checkbox" data-bind="checked: enableDashes"/>
                Dashed
            </label>
            <select data-bind="
                value: strokeDash,
                enable: enableDashes,
                options: strokeDashes"></select>
        </div>
    </div>
</div>
<script type="text/javascript">
    ko.bindingHandlers['colorPicker'] = {
        init:function (element, valueAccessor) {

        },
        update:function (element) {

        }
    };
    function random_color() {
        var rint = Math.round(0xffffff * Math.random());
        return ('#0' + rint.toString(16)).replace(/^#0([0-9a-f]{6})$/i, '#$1');
    }

    var ViewModel = function () {
        var self = this;
        self.radius = ko.observable(50);
        self.color = ko.observable('red');
        self.enableDashes = ko.observable();
        self.strokeDash = ko.observable(5);
        self.strokeDashes = [4, 8, 16, 32];

        self.strokeDashArray = ko.computed(function () {
            return self.enableDashes() ? self.strokeDash() : undefined;
        })

        self.randomizeColor = function () {
            self.color(random_color());
        }
    }

    ko.applyBindings(new ViewModel());
</script>
</body>
</html>